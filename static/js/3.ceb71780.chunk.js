(this["webpackJsonpgoit-react-hw-08"]=this["webpackJsonpgoit-react-hw-08"]||[]).push([[3],{82:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(6);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},86:function(t,e,n){"use strict";n.r(e);var a=n(32),r=n(33),c=n(35),u=n(34),o=n(0),l=n.n(o),i=n(10),s=n(6),b=n(16),f=n.n(b),m=n(24),p=n(15),h=n.n(p),v=n(19);h.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var O={addContact:function(t){var e=t.name,n=t.number;return function(){var t=Object(m.a)(f.a.mark((function t(a){var r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(v.b)()),t.prev=1,t.next=4,h.a.post("/contacts",{name:e,number:n});case 4:r=t.sent,c=r.data,a(Object(v.c)(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(Object(v.a)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},fetchContacts:function(){return function(){var t=Object(m.a)(f.a.mark((function t(e){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(v.f)()),t.prev=1,t.next=4,h.a.get("/contacts");case 4:n=t.sent,a=n.data,e(Object(v.g)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(v.e)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},removeContact:function(t){return function(){var e=Object(m.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(v.i)()),e.prev=1,e.next=4,h.a.delete("/contacts/".concat(t));case 4:n(Object(v.j)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(v.h)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},d=function(t,e){return t.find((function(t){return t.name===e}))},j=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,r=n.value;d(t.props.items,r)?alert("".concat(r," is already in contacts!!!")):t.setState(Object(s.a)({},a,r))},t.handleSubmit=function(e){e.preventDefault(),t.props.onAddContact(t.state)},t}return Object(r.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Phonebook"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",{htmlFor:"name"},"Name",l.a.createElement("br",null),l.a.createElement("input",{type:"text",value:e,onChange:this.handleChange,name:"name"})),l.a.createElement("label",{htmlFor:"number"},"Number",l.a.createElement("br",null),l.a.createElement("input",{type:"text",value:n,onChange:this.handleChange,name:"number"})),l.a.createElement("button",{type:"submit"},"Add contact")))}}]),n}(o.Component),g={onAddContact:O.addContact},y=Object(i.b)((function(t){return t.contacts}),g)(j),C=n(13),E=function(t){return t.contacts.items},w=function(t){return t.contacts.filter},k={getVisibleContacts:Object(C.a)([w,E],(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),getFilter:w,getContacts:E,getContactById:function(t,e){return E(t).find((function(t){return t.id===e}))}},x={onChangeFilter:v.d},F=Object(i.b)((function(t){return{contacts:t.contacts.items,value:k.getFilter(t)}}),x)((function(t){var e=t.contacts,n=t.value,a=t.onChangeFilter;return e.length>0?l.a.createElement("div",null,l.a.createElement("span",null,"Find name"),l.a.createElement("input",{type:"text",value:n,onChange:function(t){return a(t.target.value)}})):null})),P=n(82),D=Object(i.b)((function(t,e){return Object(P.a)({},k.getContactById(t,e.id))}),(function(t,e){return{onRemove:function(){return t(O.removeContact(e.id))}}}))((function(t){var e=t.name,n=t.number,a=t.onRemove;return l.a.createElement("li",null,l.a.createElement("span",null,e,": ",n),l.a.createElement("button",{type:"button",className:"deleteBtn",onClick:a},"Delete"))})),S=Object(i.b)((function(t){return{contacts:k.getVisibleContacts(t)}}))((function(t){var e=t.contacts;return e.length>0?l.a.createElement("ul",null,e.map((function(t){var e=t.id;return l.a.createElement(D,{key:e,id:e})}))):null})),A=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement("h2",null,"Contacts"),l.a.createElement(F,null),l.a.createElement(S,null))}}]),n}(o.Component),B={onFetchContacts:O.fetchContacts};e.default=Object(i.b)(null,B)(A)}}]);
//# sourceMappingURL=3.ceb71780.chunk.js.map