(this["webpackJsonpgoit-react-hw-08"]=this["webpackJsonpgoit-react-hw-08"]||[]).push([[6],{143:function(e,t,n){"use strict";n.r(t);var a=n(47),r=n(48),c=n(50),u=n(49),o=n(0),l=n.n(o),i=n(12),s=n(9),m=n(27),b=n.n(m),f=n(40),p=n(25),h=n.n(p),d=n(33);h.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var v={addContact:function(e){var t=e.name,n=e.number;return function(){var e=Object(f.a)(b.a.mark((function e(a){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(d.b)()),e.prev=1,e.next=4,h.a.post("/contacts",{name:t,number:n});case 4:r=e.sent,c=r.data,a(Object(d.c)(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a(Object(d.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},fetchContacts:function(){return function(){var e=Object(f.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(d.f)()),e.prev=1,e.next=4,h.a.get("/contacts");case 4:n=e.sent,a=n.data,t(Object(d.g)(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Object(d.e)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},removeContact:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(d.i)()),t.prev=1,t.next=4,h.a.delete("/contacts/".concat(e));case 4:n(Object(d.j)(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(Object(d.h)(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}},g=n(142),j=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).state={name:"",number:"",unic:!0},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.props.items.find((function(e){return e.name===r}))?e.setState({unic:!1}):(e.setState(Object(s.a)({},a,r)),e.setState({unic:!0}))},e.handleSubmit=function(t){t.preventDefault(),e.props.onAddContact(e.state)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,a=e.unic;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Phonebook"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",{htmlFor:"name"},"Name",l.a.createElement("br",null),l.a.createElement("input",{type:"text",value:t,onChange:this.handleChange,name:"name"})),!a&&l.a.createElement(g.a,{severity:"error"},"This name is already in contacts!"),l.a.createElement("label",{htmlFor:"number"},"Number",l.a.createElement("br",null),l.a.createElement("input",{type:"text",value:n,onChange:this.handleChange,name:"number"})),l.a.createElement("button",{type:"submit"},"Add contact")))}}]),n}(o.Component),C={onAddContact:v.addContact},O=Object(i.b)((function(e){return e.contacts}),C)(j),E=n(20),y=function(e){return e.contacts.items},k=function(e){return e.contacts.filter},w={getVisibleContacts:Object(E.a)([k,y],(function(e,t){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getFilter:k,getContacts:y,getContactById:function(e,t){return y(e).find((function(e){return e.id===t}))}},x={onChangeFilter:d.d},F=Object(i.b)((function(e){return{contacts:e.contacts.items,value:w.getFilter(e)}}),x)((function(e){var t=e.contacts,n=e.value,a=e.onChangeFilter;return t.length>0?l.a.createElement("div",null,l.a.createElement("span",null,"Find name: "),l.a.createElement("input",{type:"text",value:n,onChange:function(e){return a(e.target.value)}})):null})),S=n(130),A=n(124),I=n(140),N=n(132),D=n.n(N),L=n(141),R=Object(I.a)((function(e){return{button:{margin:e.spacing(1)}}})),B=Object(i.b)((function(e,t){return Object(S.a)({},w.getContactById(e,t.id))}),(function(e,t){return{onRemove:function(){return e(v.removeContact(t.id))}}}))((function(e){var t=e.name,n=e.number,a=e.onRemove,r=R();return l.a.createElement("li",null,l.a.createElement(L.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"500px",boxShadow:1,margin:"10px 0"},l.a.createElement("p",{className:"name"},t,": ",n),l.a.createElement(A.a,{variant:"contained",className:r.button,color:"secondary",startIcon:l.a.createElement(D.a,null),size:"small",onClick:a},"Delete")))})),J=Object(i.b)((function(e){return{contacts:w.getVisibleContacts(e)}}))((function(e){var t=e.contacts;return t.length>0?l.a.createElement("ul",null,t.map((function(e){var t=e.id;return l.a.createElement(B,{key:t,id:t})}))):null})),V=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(O,null),l.a.createElement("h2",null,"Contacts"),l.a.createElement(F,null),l.a.createElement(J,null))}}]),n}(o.Component),z={onFetchContacts:v.fetchContacts};t.default=Object(i.b)(null,z)(V)}}]);
//# sourceMappingURL=6.743ca2d3.chunk.js.map